<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/png" href="/static/logo.png">
<title>Vyra | Shop Collection</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500&family=Playfair+Display:wght@500;600;700&family=Cormorant+Garamond:ital,wght@1,500;1,600&display=swap" rel="stylesheet">

<style>
/* --- VARIABLES & CORE SETUP --- */
:root {
    --gold: #cfaa6a; /* Sophisticated metallic gold */
    --gold-light: #e6d1a8;
    --gold-glow: rgba(207, 170, 106, 0.3);
    --white: #ffffff;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Montserrat', sans-serif;
}

body {
    min-height: 100vh;
    background:
        linear-gradient(rgba(0,0,0,0.25), rgba(0,0,0,0.25)),
        url("/static/story.png");
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    color: var(--white);
    display: flex;
    flex-direction: column;
}

/* --- NAVIGATION --- */
nav {
    position: absolute;
    top: 30px;
    left: 60px;
    z-index: 10;
}

.logo {
    font-family: 'Playfair Display', serif;
    font-size: 24px;
    letter-spacing: 4px;
    color: var(--gold);
    text-decoration: none;
}

/* --- VIEW 1: GENDER SELECTION (HERO) --- */
#gender-section {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    min-height: 80vh; /* Keeps it vertically centered */
    animation: fadeIn 0.8s ease-in-out;
}

#gender-section h1 {
    font-family: 'Playfair Display', serif;
    font-size: 70px;
    letter-spacing: 8px;
    color: var(--gold);
    text-shadow: 0 4px 15px rgba(0,0,0,0.8);
}

.tagline {
    margin-top: 10px;
    font-size: 22px;
    font-style: italic;
    color: var(--white);
    font-family: 'Playfair Display', serif;
    letter-spacing: 2px;
}

.gender-wrapper {
    margin-top: 80px;
    display: flex;
    gap: 80px;
    flex-wrap: wrap;
    justify-content: center;
}

.gender-card {
    width: 260px;
    height: 180px;
    border: 1px solid var(--gold);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    letter-spacing: 5px;
    background: rgba(0,0,0,0.6);
    color: var(--white);
    transition: 0.4s ease;
    position: relative;
    overflow: hidden;
    cursor: pointer;
    backdrop-filter: blur(5px);
}

.gender-card::before {
    content: "";
    position: absolute;
    width: 200%;
    height: 200%;
    top: -100%;
    left: -100%;
    background: linear-gradient(120deg, transparent 40%, rgba(207, 170, 106, 0.35), transparent 60%);
    transform: rotate(25deg);
    transition: 0.8s;
}

.gender-card:hover::before {
    top: 100%;
    left: 100%;
}

.gender-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 20px 50px rgba(207, 170, 106, 0.25);
    border-color: var(--gold-light);
    color: var(--gold);
}

/* --- VIEW 2: CATEGORY GRID (HIDDEN BY DEFAULT) --- */
#category-section {
    display: none; /* Hidden initially */
    width: 100%;
    flex: 1;
    animation: fadeIn 0.8s ease-in-out;
}

.collection-header-wrapper {
    text-align: center;
    padding: 100px 20px 40px;
    position: relative;
}

.collection-title {
    font-family: 'Cormorant Garamond', serif;
    font-size: 52px;
    font-style: italic;
    letter-spacing: 3px;
    font-weight: 400;
    color: var(--white);
}

.collection-container {
    width: 90%;
    max-width: 1200px;
    margin: auto;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 30px;
    padding-bottom: 60px;
}

/* CATEGORY BOXES */
.category-box {
    background: rgba(255,255,255,0.03);
    border: 1px solid rgba(207, 170, 106, 0.2);
    backdrop-filter: blur(8px);
    border-radius: 6px;
    overflow: hidden;
    cursor: pointer;
    transition: 0.4s;
}

.category-box:hover {
    transform: translateY(-8px);
    box-shadow: 0 10px 30px rgba(207, 170, 106, 0.2);
    border-color: var(--gold);
}

.category-box img {
    width: 100%;
    height: 220px;
    object-fit: cover;
    filter: brightness(80%);
    transition: 0.6s ease;
}

.category-box:hover img {
    filter: brightness(100%);
    transform: scale(1.05);
}

.category-content {
    padding: 20px;
    text-align: center;
    border-bottom: 1px solid transparent;
}

.category-content h3 {
    font-family: 'Playfair Display', serif;
    font-size: 22px;
    letter-spacing: 3px;
    color: var(--gold);
}

/* DROPDOWN PERFUMES */
.perfume-list {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease;
    background: rgba(0,0,0,0.8);
}

.perfume-item {
    display: block;
    padding: 18px 15px;
    border-top: 1px solid rgba(207, 170, 106, 0.15);
    font-size: 14px;
    letter-spacing: 1px;
    color: var(--white);
    text-decoration: none;
    transition: all 0.3s ease;
    text-align: center;
}

.perfume-item:hover {
    background: rgba(207, 170, 106, 0.1);
    color: var(--gold);
    padding-left: 20px;
    text-align: left;
}

.category-box.active .perfume-list {
    max-height: 300px;
}

/* --- BUTTONS & UTILITIES --- */
.action-buttons {
    text-align: center;
    padding: 20px 0 60px 0;
    display: flex;
    justify-content: center;
    gap: 20px;
}

.gold-btn-outline {
    color: var(--gold);
    letter-spacing: 2px;
    font-size: 13px;
    padding: 12px 30px;
    border: 1px solid var(--gold);
    text-decoration: none;
    transition: 0.4s ease;
    display: inline-block;
    cursor: pointer;
    background: transparent;
    text-transform: uppercase;
}

.gold-btn-outline:hover {
    background: var(--gold);
    color: black;
    box-shadow: 0 10px 25px rgba(207, 170, 106, 0.3);
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
}

</style>
</head>

<body>
<div id="page-transition">
<nav>
    <a href="index.html" class="logo">VYRA</a>
</nav>

<div id="gender-section">
    <h1>VYRA</h1>
    <div class="tagline">Where Elegance Meets Essence</div>

    <div class="gender-wrapper">
        <div class="gender-card" onclick="showCategories('Male')">MALE</div>
        <div class="gender-card" onclick="showCategories('Female')">FEMALE</div>
    </div>
</div>

<div id="category-section">
    
    <div class="collection-header-wrapper">
        <h1 id="dynamic-collection-title" class="collection-title">OUR FRAGRANCE COLLECTION</h1>
    </div>

    <div class="collection-container">

        <div class="category-box" onclick="toggleBox(this)">
            <img src="/static/woody.jpg" alt="Woody">
            <div class="category-content">
                <h3>WOODY</h3>
            </div>
            <div class="perfume-list">
                <a href="product.html?item=woody" class="perfume-item">Cedar Noir</a>
            </div>
        </div>

        <div class="category-box" onclick="toggleBox(this)">
            <img src="/static/floral.png" alt="Floral">
            <div class="category-content">
                <h3>FLORAL</h3>
            </div>
            <div class="perfume-list">
                <a href="product.html?item=floral" class="perfume-item">Blooming Desire</a>
            </div>
        </div>

        <div class="category-box" onclick="toggleBox(this)">
            <img src="/static/citrus.png" alt="Citrus">
            <div class="category-content">
                <h3>CITRUS</h3>
            </div>
            <div class="perfume-list">
                <a href="product.html?item=citrus" class="perfume-item">Lime Serenity</a>
            </div>
        </div>

        <div class="category-box" onclick="toggleBox(this)">
            <img src="/static/orientalp.png" alt="Oriental">
            <div class="category-content">
                <h3>ORIENTAL</h3>
            </div>
            <div class="perfume-list">
                <a href="product.html?item=oriental" class="perfume-item">Midnight Saffron</a>
            </div>
        </div>

        <div class="category-box" onclick="toggleBox(this)">
            <img src="/static/aquatic.jpg" alt="Aquatic">
            <div class="category-content">
                <h3>AQUATIC</h3>
            </div>
            <div class="perfume-list">
                <a href="product.html?item=aquatic" class="perfume-item">Blue Horizon</a>
            </div>
        </div>

        <div class="category-box" onclick="toggleBox(this)">
            <img src="/static/gourmand.jpg" alt="Gourmand">
            <div class="category-content">
                <h3>GOURMAND</h3>
            </div>
            <div class="perfume-list">
                <a href="product.html?item=gourmand" class="perfume-item">Caramel Velvet</a>
            </div>
        </div>

    </div>
</div>

<div class="action-buttons">
    <button id="back-to-gender-btn" class="gold-btn-outline" style="display: none;" onclick="showGenders()">
        ← CHANGE GENDER
    </button>
    
    <a href="index.html" class="gold-btn-outline">← MAIN MENU</a>
</div>
</div>
<script>
    // Switches from View 1 (Gender) to View 2 (Categories)
    function showCategories(gender) {
        // 1. Update the title so it feels personalized (e.g., "OUR MALE COLLECTION")
        document.getElementById('dynamic-collection-title').innerText = `OUR ${gender.toUpperCase()} COLLECTION`;

        // 2. Hide the gender boxes
        document.getElementById('gender-section').style.display = 'none';

        // 3. Show the category grid and the new 'Change Gender' button
        document.getElementById('category-section').style.display = 'block';
        document.getElementById('back-to-gender-btn').style.display = 'inline-block';
        
        // Ensure we scroll to the top of the collection
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Switches back from View 2 to View 1
    function showGenders() {
        document.getElementById('category-section').style.display = 'none';
        document.getElementById('back-to-gender-btn').style.display = 'none';
        
        document.getElementById('gender-section').style.display = 'flex';
    }

    // Opens and closes the perfume dropdown inside the categories
    function toggleBox(element) {
        // Close other open boxes first (optional, for a cleaner accordion effect)
        const allBoxes = document.querySelectorAll('.category-box');
        allBoxes.forEach(box => {
            if (box !== element) box.classList.remove('active');
        });

        // Toggle the clicked box
        element.classList.toggle("active");
    }

    // 1. Fade IN when the page loads
    window.addEventListener('pageshow', () => {
        // Adds the class to fade out the black screen
        document.body.classList.add('page-loaded');
    });

    // 2. Fade OUT when a link is clicked
    document.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', function(e) {
            const href = this.getAttribute('href');
            
            // Skip the animation for empty links, page anchors, or the "javascript:history.back()" button
            if (!href || href.startsWith('#') || href.startsWith('javascript')) return;
            
            // Stop the browser from instantly loading the next page
            e.preventDefault();
            
            // Bring the black screen back
            document.body.classList.remove('page-loaded');
            
            // Wait exactly 500 milliseconds for the fade to finish, then go to the new page!
            setTimeout(() => {
                window.location.href = href;
            }, 500); 
        });
    });
</script>

</body>
</html>