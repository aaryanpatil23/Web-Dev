<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vyra | Product Details</title>
<link rel="icon" type="image/png" href="/static/logo.png">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">

<style>
    :root {
        --gold: #cfaa6a;
    }
    
    *{ margin:0; padding:0; box-sizing:border-box; font-family:'Montserrat', sans-serif; }
    
    body{
        background: linear-gradient(rgba(0,0,0,0.25), rgba(0,0,0,0.25)), url("/static/story.png");
        background-size:cover; background-position:center; background-attachment:fixed;
        color:#fff;
    }

    /* PRODUCT SECTION */
    .product-container{ width:95%; margin:80px auto; display:flex; flex-wrap:wrap; gap:80px; align-items:center; justify-content:center; }
    .product-image{ flex:1 1 600px; text-align:center; }
    .product-image img{ width:100%; max-width:600px; border-radius:25px; box-shadow:0 30px 60px rgba(0,0,0,0.8); transition:0.4s ease; }
    .product-image img:hover{ transform:scale(1.1); }
    
    .product-details{ flex:1 1 400px; }
    .product-details h1 { font-family:'Playfair Display', serif; font-size:46px; letter-spacing:2px; margin-bottom:15px; color:var(--gold);}
    .price { font-size:28px; color:#fff; margin-bottom:15px; } 
    .rating { margin-bottom:20px; font-size:18px; color:var(--gold); } 
    .details-info { margin-bottom:25px; line-height:1.8; font-size:16px; }
    .details-info span { color:var(--gold); font-weight:500; }
    
    /* BUTTONS */
    .button-group { margin-top:25px; }
    button { padding:15px 32px; margin-right:15px; border:none; border-radius:2px; cursor:pointer; font-size:13px; text-transform:uppercase; letter-spacing:2px; transition:0.3s; font-weight: 600; }
    .add-cart { background:transparent; color:var(--gold); border: 1px solid var(--gold); }
    .buy-now { background: linear-gradient(to right, #cfaa6a, #e6d1a8, #cfaa6a); color:#000; }
    button:hover { transform:translateY(-2px); box-shadow: 0 5px 15px rgba(207, 170, 106, 0.4); }
    .add-cart:hover { background: rgba(207, 170, 106, 0.1); }
    
    /* BACK TO HOME */
    .back-home { text-align:center; padding:40px 0 60px; }
    .home-btn { color:var(--gold); letter-spacing:3px; font-size:13px; padding:12px 30px; border:1px solid var(--gold); text-decoration:none; transition:0.4s ease; display:inline-block; text-transform:uppercase;}
    .home-btn:hover { background:var(--gold); color:black; box-shadow:0 10px 25px rgba(207,170,106,0.4); }
</style>
</head>

<body>
<div id="page-transition">

<div class="product-container">
    <div class="product-image">
        <img id="prod-img" src="" alt="Vyra Perfume">
    </div>

    <div class="product-details">
        <h1 id="prod-name">Loading...</h1>
        <div class="price" id="prod-price"></div>
        <div class="rating" id="prod-rating"></div>

        <div class="details-info">
            <p><span>Notes:</span> <span id="prod-notes" style="color:#fff; font-weight:400;"></span></p>
            <p><span>Net Weight:</span> 100ml</p>
            <p><span>Category:</span> <span id="prod-cat" style="color:#fff; font-weight:400;"></span></p>
        </div>

        <div class="button-group">
            <button class="add-cart">Add to Cart</button>
            <button class="buy-now">Buy Now</button>
        </div>
    </div>
</div>

<div class="back-home">
    <a href="javascript:history.back()" class="home-btn">← GO BACK</a>
</div>
</div>
<script>
    // 1. The FULL Master Perfume Database
    const productDatabase = {
        // --- The Main Catalog ---
        "woody": { name: "Cedar Noir", price: "₹3,499", rating: "★★★★★ (4.8)", notes: "Cedarwood, Sandalwood, Vetiver, Amber", category: "Woody", img: "/static/woodyp.png" },
        "floral": { name: "Blooming Desire", price: "₹2,999", rating: "★★★★☆ (4.6)", notes: "Rose, Jasmine, Peony, Musk", category: "Floral", img: "/static/floralp.png" },
        "citrus": { name: "Lime Serenity", price: "₹2,799", rating: "★★★★☆ (4.5)", notes: "Lemon, Bergamot, Orange Blossom", category: "Citrus", img: "/static/citrusp.png" },
        "oriental": { name: "Midnight Saffron", price: "₹3,999", rating: "★★★★★ (4.9)", notes: "Saffron, Vanilla, Oud, Amber", category: "Oriental", img: "/static/orientalp.png" },
        "aquatic": { name: "Blue Horizon", price: "₹2,899", rating: "★★★★☆ (4.4)", notes: "Sea Salt, Marine Accord, Driftwood", category: "Aquatic", img: "/shop/aquaticp.png" },
        "gourmand": { name: "Caramel Velvet", price: "₹3,299", rating: "★★★★☆ (4.7)", notes: "Caramel, Vanilla, Tonka Bean", category: "Gourmand", img: "/static/gourmandp.png" },
        
        // --- The High-End Scent Wheel Collection ---
        "signature": { name: "Vyra's Signature", price: "₹9,999", rating: "★★★★★ (5.0)", notes: "Bergamot, Black Pepper, Oud, Ambergris", category: "Signature Collection", img: "/static/signature.png" },
        "exclusive": { name: "Vyra's Exclusive", price: "₹9,999", rating: "★★★★★ (5.0)", notes: "Saffron, Dark Chocolate, Oud, Patchouli", category: "Luxury Collection", img: "/static/exclusive.png" },
        "heritage": { name: "Vyra's Heritage", price: "₹9,999", rating: "★★★★★ (4.9)", notes: "Oud, Amber, Leather, Smoky Woods", category: "Signature Collection", img: "/static/heritage.png" }
    };

    // 2. Read the URL to see which item was clicked
    const urlParams = new URLSearchParams(window.location.search);
    const itemKey = urlParams.get('item'); 

    // 3. Inject the data into the HTML
    const product = productDatabase[itemKey];

    if(product) {
        document.getElementById('prod-img').src = product.img;
        document.getElementById('prod-img').alt = product.name;
        document.getElementById('prod-name').innerText = product.name;
        document.getElementById('prod-price').innerText = product.price;
        document.getElementById('prod-rating').innerText = product.rating;
        document.getElementById('prod-notes').innerText = product.notes;
        document.getElementById('prod-cat').innerText = product.category;
        document.title = "Vyra | " + product.name;
    } else {
        document.getElementById('prod-name').innerText = "Product Not Found";
    }

    // 1. Fade IN when the page loads
    window.addEventListener('pageshow', () => {
        // Adds the class to fade out the black screen
        document.body.classList.add('page-loaded');
    });

    // 2. Fade OUT when a link is clicked
    document.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', function(e) {
            const href = this.getAttribute('href');
            
            // Skip the animation for empty links, page anchors, or the "javascript:history.back()" button
            if (!href || href.startsWith('#') || href.startsWith('javascript')) return;
            
            // Stop the browser from instantly loading the next page
            e.preventDefault();
            
            // Bring the black screen back
            document.body.classList.remove('page-loaded');
            
            // Wait exactly 500 milliseconds for the fade to finish, then go to the new page!
            setTimeout(() => {
                window.location.href = href;
            }, 500); 
        });
    });
</script>

</body>
</html>